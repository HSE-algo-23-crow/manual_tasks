## Задание №19

## Задача о рюкзаке (Knapsack problem)

## Постановка задачи

Задача о рюкзаке (англ. Knapsack problem) — дано N предметов, n<sub>i</sub> предмет имеет массу w<sub>i</sub> > 0 и стоимость p<sub>i</sub> > 0. Необходимо выбрать из этих предметов такой набор, чтобы суммарная масса не превосходила заданной величины W (вместимость рюкзака), а суммарная стоимость была максимальна.

## Условия задачи

### Вариант 4:

| Предметы  |  A  |  B  |  C  |  D  |  E  |  F  |
| :-------- | :-: | :-: | :-: | :-: | :-: | :-: |
| Стоимость |  5  |  5  |  3  |  8  |  6  |  8  |
| Вес       |  5  | 10  | 12  |  2  |  2  |  4  |

Ограничение вместимости: 22

## Решение

### 1. Рассчитаем ценность каждого предмета

| Предметы  |  A  |  B  |  C  |  D  |  E  |  F  |
| :-------- | :-: | :-: | :-: | :-: | :-: | :-: |
| Стоимость |  5  |  5  |  3  |  8  |  6  |  8  |
| Вес       |  5  | 10  | 12  |  2  |  2  |  4  |
| Ценность  |  1  | 1/2 | 1/4 |  4  |  3  |  2  |

### 2. Отсортируем предметы по убыванию ценности

| Предметы  |  D  |  E  |  F  |  A  |  B  |  C  |
| :-------- | :-: | :-: | :-: | :-: | :-: | :-: |
| Стоимость |  8  |  6  |  8  |  5  |  5  |  3  |
| Вес       |  2  |  2  |  4  |  5  | 10  | 12  |
| Ценность  |  4  |  3  |  2  |  1  | 1/2 | 1/4 |

### 3. Рассчитаем оценку сверху для пустого рюкзака

Свободное место в рюкзаке: 22

Наибольшая ценность предмета: 4

Оценка сверху для пустого рюкзака: 22 \* 4 = 88

### 4. Найдем решение задачи с использованием метода ветвей и границ

```mermaid
graph TB
	id1["#1<br>22*4=88"]
    id2["#2<br>22*3=66"]
    id3["#3<br>8+20*3=68"]
    id4["#4<br>22*2=44"]
    id5["#5<br>6+20*2=46"]
    id6["#6<br>8+20*2=48"]
    id7["#7<br>8+6+18*2=50"]
    id8["#8<br>6+8+16*1=30"]
    id9["#9<br>8+20*1=28"]
    id10["#10<br>8+8+16*1=32"]
    id11["#11<br>8+6+18*1=32"]
    id12["#12<br>8+6+8+14*1=36"]
    id13["#13<br>8+6+8+14*0.5=31"]
    id14["#14<br>8+6+8+5+9*0.5=31.5"]
    id15["#15<br>8+6+8+5+9*0.25=29.25"]
    id16["#15<br>8+6+8+5+9*0=27"]
	id1 -->|"-D"| id2
	id1 -->|"+D"| id3
	id2 -->|"-E"| id4
	id2 -->|"+E"| id5
    id3 -->|"-E"| id6
	id3 -->|"+E"| id7
	id5 -->|"+F"| id8
	id6 -->|"-F"| id9
	id6 -->|"+F"| id10
	id7 -->|"-F"| id11
	id7 -->|"+F"| id12
    id12 -->|"-A"| id13
    id12 -->|"+A"| id14
    id14 -->|"-B"| id15
    id15 -->|"-С"| id16
```