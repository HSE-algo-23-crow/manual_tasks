# Задание №19
# Задача о рюкзаке (Knapsack problem)
# Вариант №2

## Исходные данные

| Предметы  |  A  | B | C | D  | E |
|:----------|:---:|:-:|:-:|:--:|:-:|
| Стоимость |  5  | 6 | 8 | 3  | 5 |
| Вес       | 10  | 2 | 4 | 12 | 5 |

Ограничение вместимости: 19

## Решение задачи

### 1. Рассчет ценности каждого предмета

Для начала рассчитаем ценность каждого данного предмета (отношение его массы к его стоимости), что понадобится
в дальнейшем решении.

| Предметы  |  A  | B | C |  D   | E |
|:----------|:---:|:-:|:-:|:----:|:-:|
| Стоимость |  5  | 6 | 8 |  3   | 5 |
| Вес       | 10  | 2 | 4 |  12  | 5 |
| Ценность  | 0.5 | 3 | 2 | 0.25 | 1 |

### 2. Сортировка предметов

Отсортируем предметы по убыванию их ценности. Благодаря сортировке предметов, мы поймем, с какого предмета
(обладающий наибольшей ценностью) следует начинать простроение диаграммы и использование методы ветвей и границ. 

| Предметы  | B | C | E |  A  |  D   |
|:----------|:-:|:-:|:-:|:---:|:----:|
| Стоимость | 6 | 8 | 5 |  5  |  3   |
| Вес       | 2 | 4 | 5 | 10  |  12  |
| Ценность  | 3 | 2 | 1 | 0.5 | 0.25 |

### 3. Рассчет оценки сверху для пустого рюкзака

Свободное место в рюкзаке (определяется условием задачи): 19

Предмет с наибольшей ценностью: 3 (B)

Оценка сверху для пустого рюкзака: 19 * 3 = 57


### 4. Построение диаграммы для визуализации метода ветвей и границ

Для построения диграммы следует проводить оценку для каждого случая (положим в рюкзак или нет) каждого предмета
по формуле (стоимость всех взятых предметов + оставшееся свободное место в рюкзаке * ценность следующего предмета).

``` mermaid 
flowchart  TB
#1(#1 
19*3=57) -- +B --> #2
#1 -- -B --> #3
#2(#2
6+17*2=40) -- +C --> #4
#5(#5
6+17*1=23) -- +E --> #10
#10(#10
6+5+12*0.5=17)
#5 -- -E --> #11
#11(#11
6+17*0.5=14.5)
#4(#4
6+8+13*1=27) -- +E --> #8
#4 -- -E --> #9
#9(#9
6+8+13*0.5=20.5)
#2 -- -C --> #5
#3(#3
19*2=38) -- +C --> #6
#3 -- -C --> #7
#7(#7
19*1=19)
#6(#6
8+15*1=23) -- +E --> #12
#6-- -E --> #13
#13(#13
8+15*0.5=15.5)
#12(#12
8+5+10*0.5=18)
#8(#8
6+8+5+8*0.5=23)
#8 -- +A --> #14
#14(#14
0)
#8 -- -A --> #15
#15(#15
6+8+5+8*0.25=21)
#9 -- +A --> #16
#16(#16
6+8+5+3*0.25=19.75)
#9 -- -A --> #17
#17(#17 
6+8+13*0.25=17.25)
#15 -- +D --> #18
#18(#18
0)
#15 -- -D --> #19
#19(#19
6+8+5+8*0=19)
#16 -- +D --> #20
#20(#20
0)
#16 -- -D --> #21
#21(#21
6+8+5+3*0=19)
```


``` mermaid 
flowchart  TB
#1(#1 
19*3=57) -- +B --> #2
#1 -- -B --> #3

#2(#2
6+17*2=40) -- +C --> #4
#2 -- -C --> #5

#3(#3
19*2=38) -- +C --> #6
#3 -- -C --> #7

#4(#4
6+8+13*1=27) -- +E --> #8
#4 -- -E --> #9

#5(#5
6+17*1=23) -- +E --> #12
#5 -- -E --> #13

#6(#6
8+15*1=23) -- +E --> #14
#6-- -E --> #15

#7(#7
19*1=19)

#8(#8
6+8+5+8*0.5=23)
#8 -- +A --> #10
#10(#10
0)
#8 -- -A --> #11

#9(#9
6+8+13*0.5=20.5)
#9 -- +A --> #16
#9 -- -A --> #17

#10(#10
0)

#11(#11
6+8+5+8*0.25=21)
#11 -- +D --> #18
#11 -- -D --> #19

#12(#12
6+5+12*0.5=17)

#13(#13
6+17*0.5=14.5)

#14(#14
8+5+10*0.5=18)

#15(#15
8+15*0.5=15.5)

#16(#16
6+8+5+3*0.25=19.75)
#16 -- +D --> #20
#20(#20
0)
#16 -- -D --> #21
#21(#21
6+8+5+3*0=19)

#17(#17 
6+8+13*0.25=17.25)

#18(#18
0)

#19(#19
6+8+5+8*0=19)
```
Исходя из построенной диаграммы, мы видим, что оптимальный набор предметов состоит из двух вариантов:
B + C + E (общим весом 11 ед.) и B + C + A (общим весом 16 ед.). Выберем набор предметов, с меньшим общим весом.

## Ответ

Наибольшая стоимость предметов в рюкзаке: 19 ед.
Набор предметов, обеспечивающих максимальную стоимость, B, C, и E общим весом 11.
Свободное место в рюкзаке: 8.