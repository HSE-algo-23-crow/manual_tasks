
## Задание №19  
## Задача о рюкзаке (Knapsack problem)  
## Постановка задачи  
Задача о рюкзаке (англ. Knapsack problem) — дано N предметов, n<sub>i</sub> предмет имеет массу w<sub>i</sub> > 0 и стоимость p<sub>i</sub> > 0. Необходимо выбрать из этих предметов такой набор, чтобы суммарная масса не превосходила заданной величины W (вместимость рюкзака), а суммарная стоимость была максимальна.
## Условия задачи
### Вариант 1:  
  
| Предметы  | A | B  | C  | D  | E |  
|:----------|:-:|:--:|:--:|:--:|:-:|  
| Стоимость | 9 | 12 | 5  | 3  | 8 |  
| Вес       | 9 | 4  | 10 | 12 | 4 |  
  
Ограничение вместимости: 21

## Решение
### 1. Рассчитаем ценность каждого предмета
| Предметы  |  A  |  B  |  C  |  D  |  E  |
|:----------|:---:|:---:|:---:|:---:|:---:|
| Стоимость |  9  |  12 |  5  |  3  |  8  |  
| Вес       |  9  |  4  |  10 |  12 |  4  | 
| Ценность  |  1  |  3  | 1/2 | 1/4 |  2  |

### 2. Отсортируем предметы по убыванию ценности
| Предметы  |  B  |  E  |  A  |  C  |  D  |
|:----------|:---:|:---:|:---:|:---:|:---:|
| Стоимость |  12 |  8  |  9  |  5  |  3  |
| Вес       |  4  |  4  |  9  | 10  | 12  |
| Ценность  |  3  |  2  |  1  | 1/2 | 1/4 |

### 3. Рассчитаем оценку сверху для пустого рюкзака

Свободное место в рюкзаке: 21

Наибольшая ценность предмета: 3

Оценка сверху для пустого рюкзака: 21 * 3 = 63


### 4. Найдем решение задачи с использованием метода ветвей и границ

```mermaid
graph TB
    1(#1\n21*3=63)-->|+B|3(#3\n12+17*2=46)
    1-->|-B|2(#2\n21*2=42)
    3-->|+E|5(#5\n12+8+13*1=33)
    3-->|-E|4(#4\n12+17*1=29)
    2-->|+E|7(#7\n8+17*1=25)
    2-->|-E|6(#6\n21*1=21)
    5-->|+A|9(#9\n12+8+9+4*0.5=31)
    5-->|-A|8(#8\n12+8+13*0.5=26.5)
    9-->|+C|11(#11\n0)
    9-->|-C|10(#10\n12+8+9+4*0.25=30)
    10-->|+D|13(#13\n0)
    10-->|-D|12(#12\n12+8+9=29)
```

### Ответ
- Наибольшая стоимость предметов в рюкзаке 29.
- Набор предметов, обеспечивающих максимальную стоимость, B, E, A общим весом 17.
- Свободное место в рюкзаке 4.
