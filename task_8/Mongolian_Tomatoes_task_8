# Оптимальное расписание. Ленточная стратегия/Конвейерная задача
## Задание
Для каждого варианта представлены условия для двух задач. Для каждой задачи необходимо: 
1. Выбрать алгоритм решения задачи и обосновать свой выбор.
2. Применить выбранный алгоритм, в решении отобразить ход выполнения алгоритма с подробными комментариями.
3. В ответе указать длительность полученного расписания.
4. В ответе вывести полученное расписание в виде диаграммы Ганта.

### Вариант 6:
1. Имеется 8 независимых заданий, каждое из которых состоит из двух последовательных этапов, и 2 исполнителя, исполнитель 1 выполняет только первый этап задания, исполнитель 2 - только второй. Длительность заданий (по этапам): (7, 4), (5, 8), (5, 6), (6, 8), (5, 6), (4, 7), (5, 5), (3, 5).
2. Имеется 9 независимых заданий и 5 универсальных исполнителей. Длительность заданий: 6, 17, 4, 8, 5, 6, 7, 10, 12.

### Решение для задачи 1:
**1. Выбрать алгоритм решения задачи и обосновать свой выбор.**
Для первой задачи подходит алгоритм Джонсона, так как она является конвейерной. Имеется два исполнителя которые могут выполнять только свою работу.
**2. Применить выбранный алгоритм, в решении отобразить ход выполнения алгоритма с подробными комментариями.**
Пусть a_i и b_i — это длительности первого и второго этапов i-го задания.
*Разобьём список всех заданий на две группы. В первую группу попадают задания, у которых аi <= bi. Во вторую группу - все остальные задания.*
|1 группа|2 группа|
|-|-|
|№2 - (5,8)|№1 - (7,4)|
|№3 - (5,6)|
|№4 - (6,8)|
|№5 - (5,6)|
|№6 - (4,7)|
|№7 - (5,5)|
|№8 - (4,7)|

*Задания из первой группы отсортируем в порядке возрастания величин аi. Задания из второй группы отсортируем в порядке убывания величин bi.*
|$${a_i} <= {b_i}$$|$${a_i} > {b_i}$$|
|-|-|
|№6 - (4,7)|№1 - (7,4)|
|№8 - (4,7)|
|№2 - (5,8)|
|№3 - (5,6)|
|№5 - (5,6)|
|№7 - (5,5)|
|№4 - (6,8)||

*Таким образом, порядок выполнения работ будет следующий:*
- №6
- №8
- №2
- №3
- №5
- №7
- №4
- №1

**3. Диаграмма Ганта:**
```mermaid
gantt
    title Диаграмма Ганта
    dateFormat DD HH:mm    
    axisFormat %H:%M
    Начало выполнения работ : milestone, m1, 01 00:00, 0h
    section Конвейер 1
    №6         :a1, 01 00:00, 4h
    №8         :a2, after a1, 4h
    №2         :a3, after a2, 5h
    №3         :a4, after a3, 5h
    №5         :a5, after a4, 5h
    №7         :a6, after a5, 5h
    №4         :a7, after a6, 6h
    №1         :a8, after a7, 7h
    section Конвейер 2
    №6         :b1, after a1, 7h
    №8         :b2, after a2 b1, 7h
    №2         :b3, after a3 b2, 8h
    №3         :b4, after a4 b3, 6h
    №5         :b5, after a5 b4, 6h
    №7         :b6, after a6 b5, 5h
    №4         :b7, after a7 b6, 8h
    №1         :b8, after a8 b7, 4h
    Окончание выполнения работ : milestone, m2, 03 07:00, 0h
```
**4.Ответ:**
Длительность выоплнения работ: **55 часов**
### Решение для задачи 2:

*Имеется 9 независимых заданий и 5 универсальных исполнителей. Длительность заданий: 6, 17, 4, 8, 5, 6, 7, 10, 12.*

**1. Выбрать алгоритм решения задачи и обосновать свой выбор.**
Для второй подходит Ленточная стратегия, так как исполнители универсальны и задания независимы.
**2. Применить выбранный алгоритм, в решении отобразить ход выполнения алгоритма с подробными комментариями.**
1. Необходимо выбрать наибольшую длительность T<sub>max</sub> среди заданий.    
$$T_{max} = 17$$  
2. Необходимо рассчитать среднюю продолжительность заданий для одного исполнителя T<sub>avg</sub>, то есть разделить сумму продолжительностей заданий на количество исполнителей.  
$$T_{avg} = (6+17+4+8+5+6+7+10+12) / 5 = 15$$  

3. Длительность оптимального расписания T<sub>opt</sub> определяется как максимум из рассчитанных ранее средней продолжительности для исполнителя и наибольшей длительности заданий.  
$$T_{opt} = max(15,17)  = 17$$  
**3. Диаграмма Ганта:**
```mermaid
gantt
    title Диаграмма Ганта - Ленточная стратегия для 4 исполнителей
    dateFormat  HH:mm    
    axisFormat %H:%M
    Начало выполнения работ 6+17+4+8+5+6+7+10+12 : milestone, m1, 00:00, 0h
    section Исполнитель 1
    Задача A            :a1, 00:00, 6h
    Задача B (11)           :a2, after a1, 11h
    section Исполнитель 2
    Задача B (6)        :b1, 00:00,  6h
    Задача C            :b2, after b1, 4h
    Задача D (7)        :b3, after b2, 7h
    section Исполнитель 3
    Задача D (1)        :c1, 00:00, 1h
    Задача E            :c2, after c1, 5h
    Задача F            :c3,after c2, 6h
    Задача G (5)        :after c3, 5h
    section Исполнитель 4
    Задача G (2)        :d1, 00:00, 2h
    Задача H            :d2,after d1, 10h
    Задача I (5)           :after d2, 5h
    section Исполнитель 5
    Задача I (7)           :e1, 00:00, 7h
    Окончание выполнения работ : milestone, m2, 17:00, 0h
```
**4.Ответ:**
При использовании максимальной длительности - 17 часов, возникает пробел в работе последнего исполнителя - он простаивает. Однако, условиями такое не запрещено, поэтому длительность выполнения работ: **17 часов**
